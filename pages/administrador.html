<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrador</title>
    <!-- Link del favicon -->
    <link rel="shortcut icon" href="../favicon.png" type="image/png">
    <!-- Bootstrap 5.3 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- CSS -->
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm p-3">
            <div class="container-fluid">
                <a class="navbar-brand" href="../index.html">
                    <img src="../assets/img/logo.png" height="35px" alt="logo">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarToggler">
                    <ul class="navbar-nav w-100 justify-content-end align-items-center">
                        <li class="nav-item">
                            <a class="nav-link fw-semibold" href="../index.html">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-semibold" href="../pages/login.html">Iniciar Sesion</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-semibold" href="../pages/register.html">Registrarse</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-semibold" href="../pages/api.html">API</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-semibold" href="../pages/administrador.html">Administrador</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <section>
            <div class="container py-3 px-5 admin-container">
                <form id="administrador" class="row flex-column flex-md-row rounded px-2 py-3 g-3 admin-form">
                    <h3>Administrador de juegos</h3>
                    <div class="col">
                        <label for="nombre" class="form-label">Nombre</label>
                        <input type="text" class="form-control" id="nombre"/>
                        <span id="nombreError" class="error-message"></span>
                    </div>
                    <div class="col">
                        <label for="desarrollador" class="form-label">Desarrollador</label>
                        <input type="text" class="form-control" id="desarrollador"/>
                        <span id="desarrolladorError" class="error-message"></span>
                    </div>
                    <div class="col-12">
                        <label for="descripcion" class="form-label">Descripción</label>
                        <input type="text" class="form-control" id="descripcion"/>
                        <span id="descripcionError" class="error-message"></span>
                    </div>
                    <div class="col">
                        <label for="genero" class="form-label">Género</label>
                        <input type="text" class="form-control" id="genero"/>
                        <span id="generoError" class="error-message"></span>
                    </div>
                    <div class="col">
                        <label for="imagen" class="form-label">Imágen</label>
                        <input type="file" class="form-control" id="imagen"/>
                    </div>
                    <div class="col">
                        <label for="plataforma" class="form-label">Plataforma</label>
                        <select id="plataformas" class="form-select">
                            <option selected value="">Seleccione una opcion</option>
                            <option value="1">PC</option>
                            <option value="2">PlayStation</option>
                            <option value="3">Xbox S/X</option>
                        </select>
                    </div>
                    <div class="col-12">
                        <button type="submit" class="btn btn-dark">Enviar</button>
                    </div>
                </form>
                <div class="row mt-4">
                    <div class="col p-0">
                        <div class="table-responsive">
                            <table class="table table-dark table-striped table-hover m-0">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Nombre</th>
                                        <th>Desarrollador</th>
                                        <th>Descripción</th>
                                        <th>Género</th>
                                        <th>Plataforma</th>
                                        <th>Imágen</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody class="table-group-divider">
                                    <tr>
                                        <th>1</th>
                                        <td>Fallout 4</td>
                                        <td>Bethesda Game Studio</td>
                                        <td>
                                            <div class="descripcion-listado"><p>Solo tú has sobrevivido en el Refugio 111 y ahora te toca reconstruir el Yermo y reescribir su destino. Únete a las facciones que se disputan el poder o juega por tu cuenta. Todas las decisiones están en tus manos.</p></div>
                                        </td>
                                        <td>Mundo abierto</td>
                                        <td>PC</td>
                                        <td>
                                            <img src="../assets/img/fallout_4.png" class="rounded-3" width="200px" height="300px" alt="juego-del-listado">
                                        </td>
                                        <td>
                                            <div class="d-flex">
                                                <button class="btn btn-warning">Editar</button>
                                                <button class="btn btn-danger ms-2">Borrar</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>1</th>
                                        <td>nombre</td>
                                        <td>desarrollador</td>
                                        <td>descripcion</td>
                                        <td>genero</td>
                                        <td>plataforma</td>
                                        <td>imagen</td>
                                        <td>
                                            <div class="d-flex">
                                                <button class="btn btn-warning">Editar</button>
                                                <button class="btn btn-danger ms-2">Borrar</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>1</th>
                                        <td>nombre</td>
                                        <td>desarrollador</td>
                                        <td>descripcion</td>
                                        <td>genero</td>
                                        <td>plataforma</td>
                                        <td>imagen</td>
                                        <td>
                                            <div class="d-flex">
                                                <button class="btn btn-warning">Editar</button>
                                                <button class="btn btn-danger ms-2">Borrar</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>1</th>
                                        <td>nombre</td>
                                        <td>desarrollador</td>
                                        <td>descripcion</td>
                                        <td>genero</td>
                                        <td>plataforma</td>
                                        <td>imagen</td>
                                        <td>
                                            <div class="d-flex">
                                                <button class="btn btn-warning">Editar</button>
                                                <button class="btn btn-danger ms-2">Borrar</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>1</th>
                                        <td>nombre</td>
                                        <td>desarrollador</td>
                                        <td>descripcion</td>
                                        <td>genero</td>
                                        <td>plataforma</td>
                                        <td>imagen</td>
                                        <td>
                                            <div class="d-flex">
                                                <button class="btn btn-warning">Editar</button>
                                                <button class="btn btn-danger ms-2">Borrar</button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Conexión a la API JavaScript -->
    

    <!-- Validacion JavaScript -->
    <script>
        document.getElementById("administrador").addEventListener("submit", function(e){
            e.preventDefault();
            validarCampos();
        });


        function validarCampos() {
            const nombre = document.getElementById("nombre").value.trim();
            const desarrollador = document.getElementById("desarrollador").value.trim();
            const descripcion = document.getElementById("descripcion").value.trim();
            const genero = document.getElementById("genero").value;
            const plataforma = document.getElementById("plataformas");
            const imagen = document.getElementById("imagen").files[0];
            let esValido = true;
            

            if( nombre === "") {
                mensajeError("nombreError", "Por favor, ingrese un nombre.");
                esValido = false;
            }

            if (desarrollador  === "") {
                mensajeError("desarrolladorError", "Por favor, ingrese un Desarrollador.");
                esValido = false;
            }

            if (descripcion === "") {
                mensajeError("descripcionError", "Por favor, ingrese una Descripcion.");
                esValido = false;
            }

            if (genero === "") {
                mensajeError("generoError", "Por favor, ingrese un Genero.");
                esValido = false;
            }

            if (imagen === undefined) {
                alert('Se debe cargar una imagen primero');
                esValido = false;
            }

            if (plataforma.value === "") {
                alert('Seleccione una Plataforma');
                esValido = false;
            }


            if(esValido) {
                // Enviar los datos al API
                //...
                alert("Datos enviados correctamente");
            }
        }


        function mensajeError(elementId, message) {
            var errorElement = document.getElementById(elementId);
            errorElement.innerText = message;
        }

        function resetMensajeError() {
            var errorElements = document.querySelectorAll(".error-message");
            errorElements.forEach(function(element) {
                element.innerText = "";
            });
        }
    </script>
    <!-- Validacion JavaScript -->
</body>
</html>